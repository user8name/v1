var scrolltotop={setting:{startline:100,scrollto:0,scrollduration:400,fadeduration:[500,100]},controlHTML:'<img src="/public/themes/v1/images/topback.gif" style="width:54px; height:54px; border:0;" />',controlattrs:{offsetx:30,offsety:80},anchorkeyword:"#top",state:{isvisible:!1,shouldvisible:!1},scrollup:function(){this.cssfixedsupport||this.$control.css({opacity:0});var dest=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);dest="string"==typeof dest&&1==jQuery("#"+dest).length?jQuery("#"+dest).offset().top:0,this.$body.animate({scrollTop:dest},this.setting.scrollduration)},keepfixed:function(){var $window=jQuery(window),controlx=$window.scrollLeft()+$window.width()-this.$control.width()-this.controlattrs.offsetx,controly=$window.scrollTop()+$window.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:controlx+"px",top:controly+"px"})},togglecontrol:function(){var scrolltop=jQuery(window).scrollTop();this.cssfixedsupport||this.keepfixed(),this.state.shouldvisible=scrolltop>=this.setting.startline,this.state.shouldvisible&&!this.state.isvisible?(this.$control.stop().animate({opacity:1},this.setting.fadeduration[0]),this.state.isvisible=!0):0==this.state.shouldvisible&&this.state.isvisible&&(this.$control.stop().animate({opacity:0},this.setting.fadeduration[1]),this.state.isvisible=!1)},init:function(){jQuery(document).ready(function($){var mainobj=scrolltotop,iebrws=document.all;mainobj.cssfixedsupport=!iebrws||iebrws&&"CSS1Compat"==document.compatMode&&window.XMLHttpRequest,mainobj.$body=window.opera?"CSS1Compat"==document.compatMode?$("html"):$("body"):$("html,body"),mainobj.$control=$('<div id="topcontrol">'+mainobj.controlHTML+"</div>").css({position:mainobj.cssfixedsupport?"fixed":"absolute",bottom:mainobj.controlattrs.offsety,right:mainobj.controlattrs.offsetx,opacity:0,cursor:"pointer"}).attr({title:"Go To Up!"}).click(function(){return mainobj.scrollup(),!1}).appendTo("body"),document.all&&!window.XMLHttpRequest&&""!=mainobj.$control.text()&&mainobj.$control.css({width:mainobj.$control.width()}),mainobj.togglecontrol(),$('a[href="'+mainobj.anchorkeyword+'"]').click(function(){return mainobj.scrollup(),!1}),$(window).bind("scroll resize",function(e){mainobj.togglecontrol()})})}};scrolltotop.init();